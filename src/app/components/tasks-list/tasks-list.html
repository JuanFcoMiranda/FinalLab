<div class="tasks-header-controls">
    <button matFab extended class="add-task-btn filter-field" (click)="onAddTask()">
        <mat-icon>add</mat-icon>
        <mat-label>AÃ±adir Tarea</mat-label>
    </button>
    <mat-form-field class="filter-field">
        <mat-label>Status</mat-label>
        <mat-select [(ngModel)]="selectedCompleted">
            <mat-option>None</mat-option>
            @for (completedOption of completedOptions; track completedOption) {
                <mat-option [value]="completedOption">{{ completedOption }}</mat-option>
            }
        </mat-select>
    </mat-form-field>
</div>

<div class="tasks-list">
    @if (tasks.length === 0) {
        <p>No tasks available.</p>
    } @else {
        @for (task of filteredTasks; track task.id) {
            <div class="task-item" [appPriorityColor]="task.completed">
                <h3>{{ task.title }}</h3>
                <p>
                    <button matFab extended (click)="onModifyTask(task)">
                        <mat-icon>edit</mat-icon>
                        Modificar
                    </button>
                </p>
                <p>
                    <button matFab extended (click)="openDialog(task)">
                        <mat-icon>delete</mat-icon>
                        Eliminar
                    </button>
                </p>
            </div>
        }
    }
</div>